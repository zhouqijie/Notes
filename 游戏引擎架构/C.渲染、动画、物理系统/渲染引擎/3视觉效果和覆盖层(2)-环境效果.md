# 第三部分：环境效果    

## 1.天空盒    

渲染*天空盒(sky box)*或者*天空穹顶(sky dome)*时，总是把它们的中心置于摄像机位置。    

> CRE：通常是先渲染天空盒再渲染其他三维几何物体。但是利用Early-Z机制可以把渲染天空盒放在渲染不透明物体之后，以避免覆绘从而优化性能。    
> CRE：例如Unity的天空盒实际上是GeometryLast2500而不是Background1000。    

## 2.云    

> CRE：云可以是简单的平面贴上半透明纹理。也可以作为纹理或者遮罩整合到天空盒材质。    

> 较新的云渲染技术有粒子效果云、体积云等。    

## 3.地形    

*地形(terrain)*通常是非常大块的模型网格。地形通常需要某种动态细分或者LOG技术来限制数据量优化性能。最常见的地形系统是*高度场地形(height field terrain)*。        

- 高度场地形：  

高度场地形是大型地形建模的常用选择，通常存储为灰度图，其数据量相对较少。    

高度场地形通常用规则的栅格来进行细分。然后以高度场纹理的采样结果决定顶点高度。动态细分程度或LOD层级可以根据摄像机的远近来调整。    

高度场地形的贴图通常是4张或者以上的纹理互相混合，这些纹理层可以平滑地渐变过渡。    

高度场地形系统通常提供专门的工具"粉刷"地形数据，例如高度和纹理。    

## 4.水体    

> 水体渲染器在游戏中随处可见。水体有很多种类例如海洋、河流、池塘、瀑布、水坑等。    
> 大型的水体可能需要类似地形系统的动态细分或者LOD的技术。    


> CRE：水体有非常多的模拟和渲染技术。包括各种粒子效果或者贴花模拟的水体。还有各种可交互水体以及各种真实的流体物理模拟水体。         

（END）  
